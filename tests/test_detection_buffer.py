import unittest
from lib.detection_buffer import DetectionBuffer

class TestDetectionBuffer(unittest.TestCase):
	def test1(self):
		test_case = [
				(1610194482017, [338, 96, 654, 475, 'manjula', 0.6414415240287781]),
				(1610194482522, [346, 93, 648, 401, 'manjula', 0.5375432968139648]),
				(1610194483031, [357, 95, 641, 414, 'manjula', 0.6364365220069885]),
				(1610194483548, [332, 100, 643, 453, 'manjula', 0.6406891942024231]),
				(1610194484053, [312, 107, 624, 450, 'manjula', 0.6004123091697693]),
				(1610194484507, [311, 97, 612, 443, 'manjula', 0.5544843673706055]),
				(1610194485006, [313, 82, 627, 435, 'sunil', 0.880099606513977]),
				(1610194485456, [317, 112, 621, 484, 'sunil', 0.9625759840011597]),
				(1610194485939, [327, 119, 622, 475, 'sunil', 0.6868389248847961]),
				(1610194486798, [351, 145, 623, 477, 'sunil', 0.5230631828308105]),
				(1610194487557, [342, 125, 640, 473, 'shyam', 0.5845738053321838]),
				(1610194488321, [340, 125, 630, 483, 'shyam', 0.5292268395423889]),
				(1610194489040, [373, 126, 610, 470, 'shyam', 0.6521285176277161]),
				(1610194490954, [330, 113, 643, 462, 'shyam', 0.5796730518341064])
			]

		detection_buffer = DetectionBuffer()
		for t in test_case:
			ts, box = t
			detection_buffer.add_detection(box, ts)
			print(str(detection_buffer.get_max_cumulative_accuracy_label()))

